{% extends "@contact-rdv/events_layout.html.twig" %}
{% import '@contact-core/macros/form_type.html.twig' as fields %}
{% import '@contact-core/macros/form_classic.html.twig' as forms %}

{% block shoulder %}
	{{ 'Evènements dans le calendrier' }}
{% endblock shoulder %}

{% block title %}
	<i class="fas mr-2 link--icon fa-clipboard-question"></i>
	Saisie d'un événement au calendrier
{% endblock %}

{% block stylesheets %}
	{{ parent() }}

	<link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
	<link rel="stylesheet" href="{{ asset('contact-assets/css/datepickerVanilla/datepicker.css') }}">
	<link rel="stylesheet" href="{{ asset('contact-assets/css/datepickerVanilla/datepicker-bs5.css') }}">
{% endblock %}

{% block main %}
	<div id="calendar"></div>
{% endblock %} 

{% block javascripts %}
    {{ parent() }}

	<script src="{{ asset('contact-assets/js/bootstrap.min.js') }}"></script>
	<script src="{{ asset('contact-assets/js/datepickerVanilla/datepicker.js') }}"></script>
	<script src="{{ asset('contact-assets/js/datepickerVanilla/locales/fr.js') }}"></script>
    <script src="{{ asset('contact-assets/js/timepicker-ui/timepicker-ui.umd.js') }}"></script>
	<script src="{{ asset('contact-assets/js/fullcalendar/index.global.min.js') }}"></script>
	<script src="{{ asset('contact-assets/js/fullcalendar/index.locales-all.global.js') }}"></script>

	<script>
		const calElement = document.quertSelector('#calendar');
		const calendar = new fullcalendar.calendar(calElement, {
			initialView: 'dayGridMonth',
			themeSystem: 'bootstrap5',
			locale: 'fr',
			timeZone: 'local',
			eventTimeFormat: { // like '14:30:00'
				hour: '2-digit',
				minute: '2-digit',
				second: '2-digit',
				meridiem: false,
			},
  		});
		calendar.render();
	</script>
{% endblock %} 
